ARM GAS  /tmp/cckJ1Awl.s 			page 1


   1              		.cpu cortex-m7
   2              		.arch armv7e-m
   3              		.fpu fpv5-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"lv_draw_sw_grad.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.file 1 "Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c"
  20              		.section	.text.allocate_item,"ax",%progbits
  21              		.align	1
  22              		.syntax unified
  23              		.thumb
  24              		.thumb_func
  26              	allocate_item:
  27              	.LVL0:
  28              	.LFB33:
   1:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c **** /**
   2:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****  * @file lv_draw_sw_grad.c
   3:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****  *
   4:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****  */
   5:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c **** 
   6:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c **** /*********************
   7:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****  *      INCLUDES
   8:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****  *********************/
   9:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c **** #include "lv_draw_sw_grad.h"
  10:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c **** #if LV_USE_DRAW_SW
  11:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c **** 
  12:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c **** #include "../../misc/lv_types.h"
  13:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c **** #include "../../osal/lv_os.h"
  14:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c **** #include "../../misc/lv_math.h"
  15:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c **** 
  16:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c **** /*********************
  17:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****  *      DEFINES
  18:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****  *********************/
  19:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c **** #define GRAD_CM(r,g,b) lv_color_make(r,g,b)
  20:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c **** #define GRAD_CONV(t, x) t = x
  21:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c **** 
  22:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c **** #undef ALIGN
  23:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c **** #if defined(LV_ARCH_64)
  24:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****     #define ALIGN(X)    (((X) + 7) & ~7)
  25:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c **** #else
  26:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****     #define ALIGN(X)    (((X) + 3) & ~3)
  27:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c **** #endif
  28:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c **** 
  29:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c **** /**********************
  30:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****  *      TYPEDEFS
ARM GAS  /tmp/cckJ1Awl.s 			page 2


  31:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****  **********************/
  32:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c **** 
  33:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c **** #if LV_USE_DRAW_SW_COMPLEX_GRADIENTS
  34:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c **** 
  35:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c **** typedef struct {
  36:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****     /* w = (-b(xp, yp) + sqrt(sqr(b(xp, yp)) - 4 * a * c(xp, yp))) / (2 * a) */
  37:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****     int32_t x0;         /* center of the start circle */
  38:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****     int32_t y0;         /* center of the start circle */
  39:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****     int32_t r0;         /* radius of the start circle */
  40:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****     int32_t inv_dr;     /* 1 / (r1 - r0) */
  41:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****     int32_t a4;         /* 4 * a */
  42:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****     int32_t inv_a4;     /* 1 / (4 * a) */
  43:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****     int32_t dx;
  44:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****     /* b(xp, yp) = xp * bpx + yp * bpy + bc */
  45:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****     int32_t bpx;
  46:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****     int32_t bpy;
  47:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****     int32_t bc;
  48:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****     lv_area_t clip_area;
  49:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****     lv_draw_sw_grad_calc_t * cgrad;  /*256 element cache buffer containing the gradient color map*/
  50:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c **** } lv_grad_radial_state_t;
  51:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c **** 
  52:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c **** typedef struct {
  53:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****     /* w = a * xp + b * yp + c */
  54:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****     int32_t a;
  55:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****     int32_t b;
  56:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****     int32_t c;
  57:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****     lv_draw_sw_grad_calc_t * cgrad; /*256 element cache buffer containing the gradient color map*/
  58:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c **** } lv_grad_linear_state_t;
  59:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c **** 
  60:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c **** typedef struct {
  61:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****     /* w = a * xp + b * yp + c */
  62:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****     int32_t x0;
  63:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****     int32_t y0;
  64:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****     int32_t a;
  65:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****     int32_t da;
  66:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****     int32_t inv_da;
  67:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****     lv_draw_sw_grad_calc_t * cgrad; /*256 element cache buffer containing the gradient color map*/
  68:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c **** } lv_grad_conical_state_t;
  69:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c **** 
  70:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c **** #endif
  71:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c **** 
  72:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c **** /**********************
  73:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****  *  STATIC PROTOTYPES
  74:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****  **********************/
  75:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c **** typedef lv_result_t (*op_cache_t)(lv_draw_sw_grad_calc_t * c, void * ctx);
  76:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c **** static lv_draw_sw_grad_calc_t * allocate_item(const lv_grad_dsc_t * g, int32_t w, int32_t h);
  77:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c **** 
  78:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c **** #if LV_USE_DRAW_SW_COMPLEX_GRADIENTS
  79:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c **** 
  80:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****     static inline int32_t extend_w(int32_t w, lv_grad_extend_t extend);
  81:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c **** 
  82:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c **** #endif
  83:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c **** 
  84:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c **** /**********************
  85:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****  *   STATIC VARIABLE
  86:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****  **********************/
  87:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c **** 
ARM GAS  /tmp/cckJ1Awl.s 			page 3


  88:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c **** /**********************
  89:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****  *   STATIC FUNCTIONS
  90:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****  **********************/
  91:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c **** 
  92:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c **** static lv_draw_sw_grad_calc_t * allocate_item(const lv_grad_dsc_t * g, int32_t w, int32_t h)
  93:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c **** {
  29              		.loc 1 93 1 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33              		.loc 1 93 1 is_stmt 0 view .LVU1
  34 0000 38B5     		push	{r3, r4, r5, lr}
  35              	.LCFI0:
  36              		.cfi_def_cfa_offset 16
  37              		.cfi_offset 3, -16
  38              		.cfi_offset 4, -12
  39              		.cfi_offset 5, -8
  40              		.cfi_offset 14, -4
  41 0002 0D46     		mov	r5, r1
  94:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****     int32_t size;
  42              		.loc 1 94 5 is_stmt 1 view .LVU2
  95:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****     switch(g->dir) {
  43              		.loc 1 95 5 view .LVU3
  44              		.loc 1 95 13 is_stmt 0 view .LVU4
  45 0004 C37A     		ldrb	r3, [r0, #11]	@ zero_extendqisi2
  46 0006 C3F30301 		ubfx	r1, r3, #0, #4
  47              	.LVL1:
  48              		.loc 1 95 13 view .LVU5
  49 000a 03F00F03 		and	r3, r3, #15
  50              		.loc 1 95 5 view .LVU6
  51 000e 012B     		cmp	r3, #1
  52 0010 1DD0     		beq	.L5
  53 0012 49B2     		sxtb	r1, r1
  54 0014 E9B1     		cbz	r1, .L6
  55 0016 0E33     		adds	r3, r3, #14
  56 0018 03F00F03 		and	r3, r3, #15
  57 001c 032B     		cmp	r3, #3
  58 001e 14D8     		bhi	.L8
  59              	.LVL2:
  60              	.L2:
  96:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****         case LV_GRAD_DIR_HOR:
  97:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****         case LV_GRAD_DIR_LINEAR:
  98:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****         case LV_GRAD_DIR_RADIAL:
  99:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****         case LV_GRAD_DIR_CONICAL:
 100:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****             size = w;
 101:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****             break;
 102:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****         case LV_GRAD_DIR_VER:
 103:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****             size = h;
 104:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****             break;
 105:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****         default:
 106:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****             size = 64;
 107:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****     }
 108:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c **** 
 109:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****     size_t req_size = ALIGN(sizeof(lv_draw_sw_grad_calc_t)) + ALIGN(size * sizeof(lv_color_t)) + AL
  61              		.loc 1 109 5 is_stmt 1 view .LVU7
  62              		.loc 1 109 63 is_stmt 0 view .LVU8
  63 0020 6B1C     		adds	r3, r5, #1
ARM GAS  /tmp/cckJ1Awl.s 			page 4


  64 0022 03EB4303 		add	r3, r3, r3, lsl #1
  65 0026 23F00304 		bic	r4, r3, #3
  66              		.loc 1 109 98 view .LVU9
  67 002a E81C     		adds	r0, r5, #3
  68              	.LVL3:
  69              		.loc 1 109 98 view .LVU10
  70 002c 20F00300 		bic	r0, r0, #3
  71              		.loc 1 109 96 view .LVU11
  72 0030 2044     		add	r0, r0, r4
  73              	.LVL4:
 110:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****                                                                                                    
 111:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****     lv_draw_sw_grad_calc_t * item  = lv_malloc(req_size);
  74              		.loc 1 111 5 is_stmt 1 view .LVU12
  75              		.loc 1 111 38 is_stmt 0 view .LVU13
  76 0032 0C30     		adds	r0, r0, #12
  77              	.LVL5:
  78              		.loc 1 111 38 view .LVU14
  79 0034 FFF7FEFF 		bl	lv_malloc
  80              	.LVL6:
 112:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****     LV_ASSERT_MALLOC(item);
  81              		.loc 1 112 5 is_stmt 1 view .LVU15
  82              		.loc 1 112 5 view .LVU16
  83 0038 68B1     		cbz	r0, .L4
  84              		.loc 1 112 5 discriminator 2 view .LVU17
  85              		.loc 1 112 27 discriminator 2 view .LVU18
 113:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****     if(item == NULL) return NULL;
  86              		.loc 1 113 5 view .LVU19
 114:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c **** 
 115:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****     uint8_t * p = (uint8_t *)item;
  87              		.loc 1 115 5 view .LVU20
  88              	.LVL7:
 116:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****     item->color_map = (lv_color_t *)(p + ALIGN(sizeof(*item)));
  89              		.loc 1 116 5 view .LVU21
  90              		.loc 1 116 40 is_stmt 0 view .LVU22
  91 003a 00F10C02 		add	r2, r0, #12
  92              		.loc 1 116 21 view .LVU23
  93 003e 0260     		str	r2, [r0]
 117:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****     item->opa_map = (lv_opa_t *)(p + ALIGN(sizeof(*item)) + ALIGN(size * sizeof(lv_color_t)));
  94              		.loc 1 117 5 is_stmt 1 view .LVU24
  95              		.loc 1 117 59 is_stmt 0 view .LVU25
  96 0040 0C34     		adds	r4, r4, #12
  97              	.LVL8:
  98              		.loc 1 117 59 view .LVU26
  99 0042 0444     		add	r4, r4, r0
 100              	.LVL9:
 101              		.loc 1 117 19 view .LVU27
 102 0044 4460     		str	r4, [r0, #4]
 118:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****     item->size = size;
 103              		.loc 1 118 5 is_stmt 1 view .LVU28
 104              		.loc 1 118 16 is_stmt 0 view .LVU29
 105 0046 8560     		str	r5, [r0, #8]
 119:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****     return item;
 106              		.loc 1 119 5 is_stmt 1 view .LVU30
 120:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c **** }
 107              		.loc 1 120 1 is_stmt 0 view .LVU31
 108 0048 38BD     		pop	{r3, r4, r5, pc}
 109              	.LVL10:
ARM GAS  /tmp/cckJ1Awl.s 			page 5


 110              	.L8:
 106:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****     }
 111              		.loc 1 106 18 view .LVU32
 112 004a 4025     		movs	r5, #64
 113              	.LVL11:
 106:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****     }
 114              		.loc 1 106 18 view .LVU33
 115 004c E8E7     		b	.L2
 116              	.LVL12:
 117              	.L5:
 103:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****             break;
 118              		.loc 1 103 18 view .LVU34
 119 004e 1546     		mov	r5, r2
 120              	.LVL13:
 103:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****             break;
 121              		.loc 1 103 18 view .LVU35
 122 0050 E6E7     		b	.L2
 123              	.LVL14:
 124              	.L6:
 106:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****     }
 125              		.loc 1 106 18 view .LVU36
 126 0052 4025     		movs	r5, #64
 127              	.LVL15:
 106:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****     }
 128              		.loc 1 106 18 view .LVU37
 129 0054 E4E7     		b	.L2
 130              	.LVL16:
 131              	.L4:
 112:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****     if(item == NULL) return NULL;
 132              		.loc 1 112 5 is_stmt 1 discriminator 1 view .LVU38
 112:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****     if(item == NULL) return NULL;
 133              		.loc 1 112 5 discriminator 1 view .LVU39
 112:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****     if(item == NULL) return NULL;
 134              		.loc 1 112 5 discriminator 1 view .LVU40
 112:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****     if(item == NULL) return NULL;
 135              		.loc 1 112 5 discriminator 1 view .LVU41
 112:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****     if(item == NULL) return NULL;
 136              		.loc 1 112 5 discriminator 1 view .LVU42
 137 0056 FEE7     		b	.L4
 138              		.cfi_endproc
 139              	.LFE33:
 141              		.section	.text.lv_draw_sw_grad_color_calculate,"ax",%progbits
 142              		.align	1
 143              		.global	lv_draw_sw_grad_color_calculate
 144              		.syntax unified
 145              		.thumb
 146              		.thumb_func
 148              	lv_draw_sw_grad_color_calculate:
 149              	.LVL17:
 150              	.LFB35:
 121:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c **** 
 122:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c **** #if LV_USE_DRAW_SW_COMPLEX_GRADIENTS
 123:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c **** 
 124:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c **** static inline int32_t extend_w(int32_t w, lv_grad_extend_t extend)
 125:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c **** {
 126:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****     if(extend == LV_GRAD_EXTEND_PAD) {                  /**< Repeat the same color*/
 127:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****         return w < 0 ? 0 : LV_MIN(w, 255);
ARM GAS  /tmp/cckJ1Awl.s 			page 6


 128:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****     }
 129:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****     if(extend == LV_GRAD_EXTEND_REPEAT) {       /**< Repeat the pattern*/
 130:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****         return w & 255;
 131:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****     }
 132:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****     /*LV_GRAD_EXTEND_REFLECT*/
 133:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****     w &= 511;
 134:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****     if(w > 255)
 135:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****         w ^= 511;   /* 511 - w */
 136:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****     return w;
 137:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c **** }
 138:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c **** 
 139:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c **** #endif
 140:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c **** 
 141:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c **** /**********************
 142:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****  *     FUNCTIONS
 143:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****  **********************/
 144:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c **** 
 145:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c **** lv_draw_sw_grad_calc_t * lv_draw_sw_grad_get(const lv_grad_dsc_t * g, int32_t w, int32_t h)
 146:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c **** {
 147:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****     /* No gradient, no cache */
 148:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****     if(g->dir == LV_GRAD_DIR_NONE) return NULL;
 149:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c **** 
 150:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****     /* Step 1: Search cache for the given key */
 151:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****     lv_draw_sw_grad_calc_t * item = allocate_item(g, w, h);
 152:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****     if(item == NULL) {
 153:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****         LV_LOG_WARN("Failed to allocate item for the gradient");
 154:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****         return item;
 155:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****     }
 156:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c **** 
 157:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****     /* Step 3: Fill it with the gradient, as expected */
 158:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****     uint32_t i;
 159:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****     for(i = 0; i < item->size; i++) {
 160:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****         lv_draw_sw_grad_color_calculate(g, item->size, i, &item->color_map[i], &item->opa_map[i]);
 161:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****     }
 162:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****     return item;
 163:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c **** }
 164:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c **** 
 165:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c **** void LV_ATTRIBUTE_FAST_MEM lv_draw_sw_grad_color_calculate(const lv_grad_dsc_t * dsc, int32_t range
 166:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****                                                            int32_t frac, lv_color_t * color_out, lv
 167:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c **** {
 151              		.loc 1 167 1 view -0
 152              		.cfi_startproc
 153              		@ args = 4, pretend = 0, frame = 16
 154              		@ frame_needed = 0, uses_anonymous_args = 0
 155              		.loc 1 167 1 is_stmt 0 view .LVU44
 156 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 157              	.LCFI1:
 158              		.cfi_def_cfa_offset 24
 159              		.cfi_offset 4, -24
 160              		.cfi_offset 5, -20
 161              		.cfi_offset 6, -16
 162              		.cfi_offset 7, -12
 163              		.cfi_offset 8, -8
 164              		.cfi_offset 14, -4
 165 0004 84B0     		sub	sp, sp, #16
 166              	.LCFI2:
 167              		.cfi_def_cfa_offset 40
ARM GAS  /tmp/cckJ1Awl.s 			page 7


 168 0006 1C46     		mov	r4, r3
 168:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****     lv_color_t tmp;
 169              		.loc 1 168 5 is_stmt 1 view .LVU45
 169:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****     /*Clip out-of-bounds first*/
 170:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****     int32_t min = (dsc->stops[0].frac * range) >> 8;
 170              		.loc 1 170 5 view .LVU46
 171              		.loc 1 170 33 is_stmt 0 view .LVU47
 172 0008 0379     		ldrb	r3, [r0, #4]	@ zero_extendqisi2
 173              	.LVL18:
 174              		.loc 1 170 39 view .LVU48
 175 000a 01FB03F3 		mul	r3, r1, r3
 176              	.LVL19:
 171:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****     if(frac <= min) {
 177              		.loc 1 171 5 is_stmt 1 view .LVU49
 178              		.loc 1 171 7 is_stmt 0 view .LVU50
 179 000e B2EB232F 		cmp	r2, r3, asr #8
 180 0012 1EDD     		ble	.L20
 172:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****         GRAD_CONV(tmp, dsc->stops[0].color);
 173:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****         *color_out = tmp;
 174:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****         *opa_out = dsc->stops[0].opa;
 175:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****         return;
 176:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****     }
 177:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c **** 
 178:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****     int32_t max = (dsc->stops[dsc->stops_count - 1].frac * range) >> 8;
 181              		.loc 1 178 5 is_stmt 1 view .LVU51
 182              		.loc 1 178 34 is_stmt 0 view .LVU52
 183 0014 837A     		ldrb	r3, [r0, #10]	@ zero_extendqisi2
 184              	.LVL20:
 185              		.loc 1 178 48 view .LVU53
 186 0016 5D1E     		subs	r5, r3, #1
 187              		.loc 1 178 52 view .LVU54
 188 0018 05EB8506 		add	r6, r5, r5, lsl #2
 189 001c 0644     		add	r6, r6, r0
 190 001e 3679     		ldrb	r6, [r6, #4]	@ zero_extendqisi2
 191              		.loc 1 178 58 view .LVU55
 192 0020 01FB06F6 		mul	r6, r1, r6
 193              	.LVL21:
 179:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****     if(frac >= max) {
 194              		.loc 1 179 5 is_stmt 1 view .LVU56
 195              		.loc 1 179 7 is_stmt 0 view .LVU57
 196 0024 B2EB262F 		cmp	r2, r6, asr #8
 197 0028 25DA     		bge	.L21
 198              	.LBB2:
 180:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****         GRAD_CONV(tmp, dsc->stops[dsc->stops_count - 1].color);
 181:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****         *color_out = tmp;
 182:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****         *opa_out = dsc->stops[dsc->stops_count - 1].opa;
 183:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****         return;
 184:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****     }
 185:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c **** 
 186:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****     /*Find the 2 closest stop now*/
 187:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****     int32_t d = 0;
 188:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****     int32_t found_i = 0;
 189:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****     for(uint8_t i = 1; i < dsc->stops_count; i++) {
 199              		.loc 1 189 17 view .LVU58
 200 002a 4FF0010C 		mov	ip, #1
 201              	.L12:
 202              	.LVL22:
ARM GAS  /tmp/cckJ1Awl.s 			page 8


 203              		.loc 1 189 26 is_stmt 1 discriminator 1 view .LVU59
 204 002e 6345     		cmp	r3, ip
 205 0030 39D9     		bls	.L22
 206              	.LBB3:
 190:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****         int32_t cur = (dsc->stops[i].frac * range) >> 8;
 207              		.loc 1 190 9 view .LVU60
 208              		.loc 1 190 37 is_stmt 0 view .LVU61
 209 0032 6546     		mov	r5, ip
 210 0034 0CEB8C0E 		add	lr, ip, ip, lsl #2
 211 0038 8644     		add	lr, lr, r0
 212 003a 9EF804E0 		ldrb	lr, [lr, #4]	@ zero_extendqisi2
 213              		.loc 1 190 43 view .LVU62
 214 003e 01FB0EFE 		mul	lr, r1, lr
 215              	.LVL23:
 191:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****         if(frac <= cur) {
 216              		.loc 1 191 9 is_stmt 1 view .LVU63
 217              		.loc 1 191 11 is_stmt 0 view .LVU64
 218 0042 B2EB2E2F 		cmp	r2, lr, asr #8
 219 0046 2FDD     		ble	.L13
 220              	.LBE3:
 189:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****         int32_t cur = (dsc->stops[i].frac * range) >> 8;
 221              		.loc 1 189 47 is_stmt 1 discriminator 2 view .LVU65
 222 0048 0CF1010C 		add	ip, ip, #1
 223              	.LVL24:
 189:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****         int32_t cur = (dsc->stops[i].frac * range) >> 8;
 224              		.loc 1 189 47 is_stmt 0 discriminator 2 view .LVU66
 225 004c 5FFA8CFC 		uxtb	ip, ip
 226              	.LVL25:
 189:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****         int32_t cur = (dsc->stops[i].frac * range) >> 8;
 227              		.loc 1 189 47 discriminator 2 view .LVU67
 228 0050 EDE7     		b	.L12
 229              	.LVL26:
 230              	.L20:
 189:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****         int32_t cur = (dsc->stops[i].frac * range) >> 8;
 231              		.loc 1 189 47 discriminator 2 view .LVU68
 232              	.LBE2:
 172:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****         *color_out = tmp;
 233              		.loc 1 172 9 is_stmt 1 view .LVU69
 234 0052 0188     		ldrh	r1, [r0]	@ unaligned
 235              	.LVL27:
 172:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****         *color_out = tmp;
 236              		.loc 1 172 9 is_stmt 0 view .LVU70
 237 0054 8278     		ldrb	r2, [r0, #2]	@ zero_extendqisi2
 238              	.LVL28:
 172:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****         *color_out = tmp;
 239              		.loc 1 172 9 view .LVU71
 240 0056 ADF80C10 		strh	r1, [sp, #12]	@ unaligned
 241 005a 8DF80E20 		strb	r2, [sp, #14]
 173:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****         *opa_out = dsc->stops[0].opa;
 242              		.loc 1 173 9 is_stmt 1 view .LVU72
 173:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****         *opa_out = dsc->stops[0].opa;
 243              		.loc 1 173 20 is_stmt 0 view .LVU73
 244 005e BDF80C20 		ldrh	r2, [sp, #12]	@ unaligned
 245 0062 9DF80E30 		ldrb	r3, [sp, #14]	@ zero_extendqisi2
 246              	.LVL29:
 173:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****         *opa_out = dsc->stops[0].opa;
 247              		.loc 1 173 20 view .LVU74
ARM GAS  /tmp/cckJ1Awl.s 			page 9


 248 0066 2280     		strh	r2, [r4]	@ unaligned
 249              	.LVL30:
 173:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****         *opa_out = dsc->stops[0].opa;
 250              		.loc 1 173 20 view .LVU75
 251 0068 A370     		strb	r3, [r4, #2]
 174:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****         return;
 252              		.loc 1 174 9 is_stmt 1 view .LVU76
 174:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****         return;
 253              		.loc 1 174 33 is_stmt 0 view .LVU77
 254 006a C378     		ldrb	r3, [r0, #3]	@ zero_extendqisi2
 174:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****         return;
 255              		.loc 1 174 18 view .LVU78
 256 006c 0A9A     		ldr	r2, [sp, #40]
 257 006e 1370     		strb	r3, [r2]
 175:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****     }
 258              		.loc 1 175 9 is_stmt 1 view .LVU79
 259              	.LVL31:
 260              	.L9:
 192:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****             found_i = i;
 193:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****             break;
 194:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****         }
 195:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****     }
 196:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c **** 
 197:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****     LV_ASSERT(found_i != 0);
 198:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c **** 
 199:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****     lv_color_t one, two;
 200:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****     one = dsc->stops[found_i - 1].color;
 201:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****     two = dsc->stops[found_i].color;
 202:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****     min = (dsc->stops[found_i - 1].frac * range) >> 8;
 203:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****     max = (dsc->stops[found_i].frac * range) >> 8;
 204:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****     d = max - min;
 205:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c **** 
 206:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****     /*Then interpolate*/
 207:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****     frac -= min;
 208:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****     lv_opa_t mix = (frac * 255) / d;
 209:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****     lv_opa_t imix = 255 - mix;
 210:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c **** 
 211:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****     *color_out = GRAD_CM(LV_UDIV255(two.red * mix   + one.red * imix),
 212:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****                          LV_UDIV255(two.green * mix + one.green * imix),
 213:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****                          LV_UDIV255(two.blue * mix  + one.blue * imix));
 214:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c **** 
 215:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****     *opa_out = LV_UDIV255(dsc->stops[found_i].opa * mix   + dsc->stops[found_i - 1].opa * imix);
 216:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c **** }
 261              		.loc 1 216 1 is_stmt 0 view .LVU80
 262 0070 04B0     		add	sp, sp, #16
 263              	.LCFI3:
 264              		.cfi_remember_state
 265              		.cfi_def_cfa_offset 24
 266              		@ sp needed
 267 0072 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 268              	.LVL32:
 269              	.L21:
 270              	.LCFI4:
 271              		.cfi_restore_state
 180:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****         *color_out = tmp;
 272              		.loc 1 180 9 is_stmt 1 view .LVU81
 273 0076 05EB8505 		add	r5, r5, r5, lsl #2
ARM GAS  /tmp/cckJ1Awl.s 			page 10


 274 007a 4219     		adds	r2, r0, r5
 275              	.LVL33:
 180:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****         *color_out = tmp;
 276              		.loc 1 180 9 is_stmt 0 view .LVU82
 277 007c 415B     		ldrh	r1, [r0, r5]	@ unaligned
 278              	.LVL34:
 180:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****         *color_out = tmp;
 279              		.loc 1 180 9 view .LVU83
 280 007e 9278     		ldrb	r2, [r2, #2]	@ zero_extendqisi2
 281 0080 ADF80C10 		strh	r1, [sp, #12]	@ unaligned
 282 0084 8DF80E20 		strb	r2, [sp, #14]
 181:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****         *opa_out = dsc->stops[dsc->stops_count - 1].opa;
 283              		.loc 1 181 9 is_stmt 1 view .LVU84
 181:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****         *opa_out = dsc->stops[dsc->stops_count - 1].opa;
 284              		.loc 1 181 20 is_stmt 0 view .LVU85
 285 0088 BDF80C20 		ldrh	r2, [sp, #12]	@ unaligned
 286 008c 9DF80E30 		ldrb	r3, [sp, #14]	@ zero_extendqisi2
 287 0090 2280     		strh	r2, [r4]	@ unaligned
 288              	.LVL35:
 181:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****         *opa_out = dsc->stops[dsc->stops_count - 1].opa;
 289              		.loc 1 181 20 view .LVU86
 290 0092 A370     		strb	r3, [r4, #2]
 182:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****         return;
 291              		.loc 1 182 9 is_stmt 1 view .LVU87
 182:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****         return;
 292              		.loc 1 182 34 is_stmt 0 view .LVU88
 293 0094 837A     		ldrb	r3, [r0, #10]	@ zero_extendqisi2
 182:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****         return;
 294              		.loc 1 182 48 view .LVU89
 295 0096 013B     		subs	r3, r3, #1
 182:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****         return;
 296              		.loc 1 182 52 view .LVU90
 297 0098 03EB8303 		add	r3, r3, r3, lsl #2
 298 009c 0344     		add	r3, r3, r0
 299 009e DB78     		ldrb	r3, [r3, #3]	@ zero_extendqisi2
 182:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****         return;
 300              		.loc 1 182 18 view .LVU91
 301 00a0 0A9A     		ldr	r2, [sp, #40]
 302 00a2 1370     		strb	r3, [r2]
 183:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****     }
 303              		.loc 1 183 9 is_stmt 1 view .LVU92
 304 00a4 E4E7     		b	.L9
 305              	.LVL36:
 306              	.L22:
 188:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****     for(uint8_t i = 1; i < dsc->stops_count; i++) {
 307              		.loc 1 188 13 is_stmt 0 view .LVU93
 308 00a6 0025     		movs	r5, #0
 309              	.L13:
 310              	.LVL37:
 197:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c **** 
 311              		.loc 1 197 5 is_stmt 1 view .LVU94
 197:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c **** 
 312              		.loc 1 197 5 view .LVU95
 313 00a8 05B9     		cbnz	r5, .L15
 314              	.L16:
 197:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c **** 
 315              		.loc 1 197 5 discriminator 1 view .LVU96
ARM GAS  /tmp/cckJ1Awl.s 			page 11


 197:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c **** 
 316              		.loc 1 197 5 discriminator 1 view .LVU97
 197:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c **** 
 317              		.loc 1 197 5 discriminator 1 view .LVU98
 197:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c **** 
 318              		.loc 1 197 5 discriminator 1 view .LVU99
 197:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c **** 
 319              		.loc 1 197 5 discriminator 1 view .LVU100
 320 00aa FEE7     		b	.L16
 321              	.L15:
 197:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c **** 
 322              		.loc 1 197 5 discriminator 2 view .LVU101
 199:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****     one = dsc->stops[found_i - 1].color;
 323              		.loc 1 199 5 view .LVU102
 200:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****     two = dsc->stops[found_i].color;
 324              		.loc 1 200 5 view .LVU103
 200:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****     two = dsc->stops[found_i].color;
 325              		.loc 1 200 30 is_stmt 0 view .LVU104
 326 00ac 6B1E     		subs	r3, r5, #1
 200:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****     two = dsc->stops[found_i].color;
 327              		.loc 1 200 9 view .LVU105
 328 00ae 03EB8303 		add	r3, r3, r3, lsl #2
 329 00b2 C618     		adds	r6, r0, r3
 330              	.LVL38:
 200:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****     two = dsc->stops[found_i].color;
 331              		.loc 1 200 9 view .LVU106
 332 00b4 C75A     		ldrh	r7, [r0, r3]	@ unaligned
 333 00b6 B378     		ldrb	r3, [r6, #2]	@ zero_extendqisi2
 334 00b8 ADF80870 		strh	r7, [sp, #8]	@ unaligned
 335 00bc 8DF80A30 		strb	r3, [sp, #10]
 201:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****     min = (dsc->stops[found_i - 1].frac * range) >> 8;
 336              		.loc 1 201 5 is_stmt 1 view .LVU107
 201:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****     min = (dsc->stops[found_i - 1].frac * range) >> 8;
 337              		.loc 1 201 9 is_stmt 0 view .LVU108
 338 00c0 05EB8505 		add	r5, r5, r5, lsl #2
 339              	.LVL39:
 201:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****     min = (dsc->stops[found_i - 1].frac * range) >> 8;
 340              		.loc 1 201 9 view .LVU109
 341 00c4 4719     		adds	r7, r0, r5
 342 00c6 405B     		ldrh	r0, [r0, r5]	@ unaligned
 343              	.LVL40:
 201:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****     min = (dsc->stops[found_i - 1].frac * range) >> 8;
 344              		.loc 1 201 9 view .LVU110
 345 00c8 BB78     		ldrb	r3, [r7, #2]	@ zero_extendqisi2
 346 00ca ADF80400 		strh	r0, [sp, #4]	@ unaligned
 347 00ce 8DF80630 		strb	r3, [sp, #6]
 202:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****     max = (dsc->stops[found_i].frac * range) >> 8;
 348              		.loc 1 202 5 is_stmt 1 view .LVU111
 202:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****     max = (dsc->stops[found_i].frac * range) >> 8;
 349              		.loc 1 202 35 is_stmt 0 view .LVU112
 350 00d2 3079     		ldrb	r0, [r6, #4]	@ zero_extendqisi2
 202:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****     max = (dsc->stops[found_i].frac * range) >> 8;
 351              		.loc 1 202 41 view .LVU113
 352 00d4 01FB00F0 		mul	r0, r1, r0
 353              	.LVL41:
 203:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****     d = max - min;
 354              		.loc 1 203 5 is_stmt 1 view .LVU114
ARM GAS  /tmp/cckJ1Awl.s 			page 12


 203:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****     d = max - min;
 355              		.loc 1 203 31 is_stmt 0 view .LVU115
 356 00d8 3B79     		ldrb	r3, [r7, #4]	@ zero_extendqisi2
 203:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****     d = max - min;
 357              		.loc 1 203 37 view .LVU116
 358 00da 01FB03F3 		mul	r3, r1, r3
 203:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****     d = max - min;
 359              		.loc 1 203 9 view .LVU117
 360 00de 1B12     		asrs	r3, r3, #8
 361              	.LVL42:
 204:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c **** 
 362              		.loc 1 204 5 is_stmt 1 view .LVU118
 204:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c **** 
 363              		.loc 1 204 7 is_stmt 0 view .LVU119
 364 00e0 A3EB2023 		sub	r3, r3, r0, asr #8
 365              	.LVL43:
 207:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****     lv_opa_t mix = (frac * 255) / d;
 366              		.loc 1 207 5 is_stmt 1 view .LVU120
 207:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****     lv_opa_t mix = (frac * 255) / d;
 367              		.loc 1 207 10 is_stmt 0 view .LVU121
 368 00e4 A2EB2022 		sub	r2, r2, r0, asr #8
 369              	.LVL44:
 208:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****     lv_opa_t imix = 255 - mix;
 370              		.loc 1 208 5 is_stmt 1 view .LVU122
 208:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****     lv_opa_t imix = 255 - mix;
 371              		.loc 1 208 26 is_stmt 0 view .LVU123
 372 00e8 C2EB0222 		rsb	r2, r2, r2, lsl #8
 373              	.LVL45:
 208:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****     lv_opa_t imix = 255 - mix;
 374              		.loc 1 208 33 view .LVU124
 375 00ec 92FBF3F5 		sdiv	r5, r2, r3
 208:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****     lv_opa_t imix = 255 - mix;
 376              		.loc 1 208 14 view .LVU125
 377 00f0 EDB2     		uxtb	r5, r5
 378              	.LVL46:
 209:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c **** 
 379              		.loc 1 209 5 is_stmt 1 view .LVU126
 209:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c **** 
 380              		.loc 1 209 14 is_stmt 0 view .LVU127
 381 00f2 6FEA0508 		mvn	r8, r5
 382 00f6 5FFA88F8 		uxtb	r8, r8
 383              	.LVL47:
 211:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****                          LV_UDIV255(two.green * mix + one.green * imix),
 384              		.loc 1 211 5 is_stmt 1 view .LVU128
 211:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****                          LV_UDIV255(two.green * mix + one.green * imix),
 385              		.loc 1 211 18 is_stmt 0 view .LVU129
 386 00fa 9DF80630 		ldrb	r3, [sp, #6]	@ zero_extendqisi2
 387              	.LVL48:
 211:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****                          LV_UDIV255(two.green * mix + one.green * imix),
 388              		.loc 1 211 18 view .LVU130
 389 00fe 9DF80A00 		ldrb	r0, [sp, #10]	@ zero_extendqisi2
 390              	.LVL49:
 211:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****                          LV_UDIV255(two.green * mix + one.green * imix),
 391              		.loc 1 211 18 view .LVU131
 392 0102 08FB00F0 		mul	r0, r8, r0
 393 0106 05FB0300 		mla	r0, r5, r3, r0
 394 010a 00EB0023 		add	r3, r0, r0, lsl #8
ARM GAS  /tmp/cckJ1Awl.s 			page 13


 395 010e 00EBC310 		add	r0, r0, r3, lsl #7
 396 0112 9DF80520 		ldrb	r2, [sp, #5]	@ zero_extendqisi2
 397 0116 9DF80930 		ldrb	r3, [sp, #9]	@ zero_extendqisi2
 398 011a 03FB08F3 		mul	r3, r3, r8
 399 011e 05FB0233 		mla	r3, r5, r2, r3
 400 0122 03EB0322 		add	r2, r3, r3, lsl #8
 401 0126 03EBC213 		add	r3, r3, r2, lsl #7
 402 012a 9DF80410 		ldrb	r1, [sp, #4]	@ zero_extendqisi2
 403              	.LVL50:
 211:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****                          LV_UDIV255(two.green * mix + one.green * imix),
 404              		.loc 1 211 18 view .LVU132
 405 012e 9DF80820 		ldrb	r2, [sp, #8]	@ zero_extendqisi2
 406 0132 02FB08F2 		mul	r2, r2, r8
 407 0136 05FB0122 		mla	r2, r5, r1, r2
 408 013a 02EB0221 		add	r1, r2, r2, lsl #8
 409 013e 02EBC112 		add	r2, r2, r1, lsl #7
 410 0142 C2F3C752 		ubfx	r2, r2, #23, #8
 411 0146 C3F3C751 		ubfx	r1, r3, #23, #8
 412 014a C0F3C750 		ubfx	r0, r0, #23, #8
 413 014e FFF7FEFF 		bl	lv_color_make
 414              	.LVL51:
 211:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****                          LV_UDIV255(two.green * mix + one.green * imix),
 415              		.loc 1 211 18 view .LVU133
 416 0152 2070     		strb	r0, [r4]
 417 0154 C0F30723 		ubfx	r3, r0, #8, #8
 418 0158 6370     		strb	r3, [r4, #1]
 419 015a C0F30740 		ubfx	r0, r0, #16, #8
 420 015e A070     		strb	r0, [r4, #2]
 215:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c **** }
 421              		.loc 1 215 5 is_stmt 1 view .LVU134
 215:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c **** }
 422              		.loc 1 215 16 is_stmt 0 view .LVU135
 423 0160 FA78     		ldrb	r2, [r7, #3]	@ zero_extendqisi2
 424 0162 F378     		ldrb	r3, [r6, #3]	@ zero_extendqisi2
 425 0164 03FB08F3 		mul	r3, r3, r8
 426 0168 05FB0233 		mla	r3, r5, r2, r3
 427 016c 03EB0322 		add	r2, r3, r3, lsl #8
 428 0170 03EBC213 		add	r3, r3, r2, lsl #7
 429 0174 DB0D     		lsrs	r3, r3, #23
 215:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c **** }
 430              		.loc 1 215 14 view .LVU136
 431 0176 0A9A     		ldr	r2, [sp, #40]
 432 0178 1370     		strb	r3, [r2]
 433 017a 79E7     		b	.L9
 434              		.cfi_endproc
 435              	.LFE35:
 437              		.section	.text.lv_draw_sw_grad_get,"ax",%progbits
 438              		.align	1
 439              		.global	lv_draw_sw_grad_get
 440              		.syntax unified
 441              		.thumb
 442              		.thumb_func
 444              	lv_draw_sw_grad_get:
 445              	.LVL52:
 446              	.LFB34:
 146:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****     /* No gradient, no cache */
 447              		.loc 1 146 1 is_stmt 1 view -0
ARM GAS  /tmp/cckJ1Awl.s 			page 14


 448              		.cfi_startproc
 449              		@ args = 0, pretend = 0, frame = 0
 450              		@ frame_needed = 0, uses_anonymous_args = 0
 146:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****     /* No gradient, no cache */
 451              		.loc 1 146 1 is_stmt 0 view .LVU138
 452 0000 70B5     		push	{r4, r5, r6, lr}
 453              	.LCFI5:
 454              		.cfi_def_cfa_offset 16
 455              		.cfi_offset 4, -16
 456              		.cfi_offset 5, -12
 457              		.cfi_offset 6, -8
 458              		.cfi_offset 14, -4
 459 0002 82B0     		sub	sp, sp, #8
 460              	.LCFI6:
 461              		.cfi_def_cfa_offset 24
 148:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c **** 
 462              		.loc 1 148 5 is_stmt 1 view .LVU139
 148:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c **** 
 463              		.loc 1 148 15 is_stmt 0 view .LVU140
 464 0004 C37A     		ldrb	r3, [r0, #11]	@ zero_extendqisi2
 148:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c **** 
 465              		.loc 1 148 7 view .LVU141
 466 0006 13F00F0F 		tst	r3, #15
 467 000a 18D0     		beq	.L27
 468 000c 0646     		mov	r6, r0
 151:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****     if(item == NULL) {
 469              		.loc 1 151 5 is_stmt 1 view .LVU142
 151:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****     if(item == NULL) {
 470              		.loc 1 151 37 is_stmt 0 view .LVU143
 471 000e FFF7FEFF 		bl	allocate_item
 472              	.LVL53:
 152:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****         LV_LOG_WARN("Failed to allocate item for the gradient");
 473              		.loc 1 152 5 is_stmt 1 view .LVU144
 152:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****         LV_LOG_WARN("Failed to allocate item for the gradient");
 474              		.loc 1 152 7 is_stmt 0 view .LVU145
 475 0012 0546     		mov	r5, r0
 476 0014 80B1     		cbz	r0, .L23
 159:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****         lv_draw_sw_grad_color_calculate(g, item->size, i, &item->color_map[i], &item->opa_map[i]);
 477              		.loc 1 159 11 view .LVU146
 478 0016 0024     		movs	r4, #0
 479 0018 0BE0     		b	.L25
 480              	.LVL54:
 481              	.L26:
 160:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****     }
 482              		.loc 1 160 9 is_stmt 1 view .LVU147
 160:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****     }
 483              		.loc 1 160 64 is_stmt 0 view .LVU148
 484 001a 2868     		ldr	r0, [r5]
 160:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****     }
 485              		.loc 1 160 75 view .LVU149
 486 001c 04EB4403 		add	r3, r4, r4, lsl #1
 160:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****     }
 487              		.loc 1 160 85 view .LVU150
 488 0020 6A68     		ldr	r2, [r5, #4]
 160:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****     }
 489              		.loc 1 160 9 view .LVU151
 490 0022 2244     		add	r2, r2, r4
ARM GAS  /tmp/cckJ1Awl.s 			page 15


 491 0024 0092     		str	r2, [sp]
 492 0026 0344     		add	r3, r3, r0
 493 0028 2246     		mov	r2, r4
 494 002a 3046     		mov	r0, r6
 495 002c FFF7FEFF 		bl	lv_draw_sw_grad_color_calculate
 496              	.LVL55:
 159:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****         lv_draw_sw_grad_color_calculate(g, item->size, i, &item->color_map[i], &item->opa_map[i]);
 497              		.loc 1 159 33 is_stmt 1 discriminator 3 view .LVU152
 498 0030 0134     		adds	r4, r4, #1
 499              	.LVL56:
 500              	.L25:
 159:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****         lv_draw_sw_grad_color_calculate(g, item->size, i, &item->color_map[i], &item->opa_map[i]);
 501              		.loc 1 159 18 discriminator 1 view .LVU153
 159:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****         lv_draw_sw_grad_color_calculate(g, item->size, i, &item->color_map[i], &item->opa_map[i]);
 502              		.loc 1 159 24 is_stmt 0 discriminator 1 view .LVU154
 503 0032 A968     		ldr	r1, [r5, #8]
 159:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****         lv_draw_sw_grad_color_calculate(g, item->size, i, &item->color_map[i], &item->opa_map[i]);
 504              		.loc 1 159 18 discriminator 1 view .LVU155
 505 0034 A142     		cmp	r1, r4
 506 0036 F0D8     		bhi	.L26
 507              	.LVL57:
 508              	.L23:
 163:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c **** 
 509              		.loc 1 163 1 view .LVU156
 510 0038 2846     		mov	r0, r5
 511 003a 02B0     		add	sp, sp, #8
 512              	.LCFI7:
 513              		.cfi_remember_state
 514              		.cfi_def_cfa_offset 16
 515              		@ sp needed
 516 003c 70BD     		pop	{r4, r5, r6, pc}
 517              	.LVL58:
 518              	.L27:
 519              	.LCFI8:
 520              		.cfi_restore_state
 148:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c **** 
 521              		.loc 1 148 43 discriminator 1 view .LVU157
 522 003e 0025     		movs	r5, #0
 523 0040 FAE7     		b	.L23
 524              		.cfi_endproc
 525              	.LFE34:
 527              		.section	.text.lv_draw_sw_grad_cleanup,"ax",%progbits
 528              		.align	1
 529              		.global	lv_draw_sw_grad_cleanup
 530              		.syntax unified
 531              		.thumb
 532              		.thumb_func
 534              	lv_draw_sw_grad_cleanup:
 535              	.LVL59:
 536              	.LFB36:
 217:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c **** 
 218:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c **** void lv_draw_sw_grad_cleanup(lv_draw_sw_grad_calc_t * grad)
 219:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c **** {
 537              		.loc 1 219 1 is_stmt 1 view -0
 538              		.cfi_startproc
 539              		@ args = 0, pretend = 0, frame = 0
 540              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  /tmp/cckJ1Awl.s 			page 16


 541              		.loc 1 219 1 is_stmt 0 view .LVU159
 542 0000 08B5     		push	{r3, lr}
 543              	.LCFI9:
 544              		.cfi_def_cfa_offset 8
 545              		.cfi_offset 3, -8
 546              		.cfi_offset 14, -4
 220:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c ****     lv_free(grad);
 547              		.loc 1 220 5 is_stmt 1 view .LVU160
 548 0002 FFF7FEFF 		bl	lv_free
 549              	.LVL60:
 221:Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.c **** }
 550              		.loc 1 221 1 is_stmt 0 view .LVU161
 551 0006 08BD     		pop	{r3, pc}
 552              		.cfi_endproc
 553              	.LFE36:
 555              		.text
 556              	.Letext0:
 557              		.file 2 "/usr/arm-none-eabi/include/machine/_default_types.h"
 558              		.file 3 "/usr/arm-none-eabi/include/sys/_stdint.h"
 559              		.file 4 "/usr/lib/gcc/arm-none-eabi/14.2.0/include/stddef.h"
 560              		.file 5 "Drivers/lvgl/src/draw/sw/../../misc/lv_types.h"
 561              		.file 6 "Drivers/lvgl/src/draw/sw/../../misc/lv_color.h"
 562              		.file 7 "Drivers/lvgl/src/draw/sw/../../misc/lv_grad.h"
 563              		.file 8 "Drivers/lvgl/src/draw/sw/lv_draw_sw_grad.h"
 564              		.file 9 "Drivers/lvgl/src/draw/sw/../../misc/../stdlib/lv_mem.h"
ARM GAS  /tmp/cckJ1Awl.s 			page 17


DEFINED SYMBOLS
                            *ABS*:00000000 lv_draw_sw_grad.c
     /tmp/cckJ1Awl.s:21     .text.allocate_item:00000000 $t
     /tmp/cckJ1Awl.s:26     .text.allocate_item:00000000 allocate_item
     /tmp/cckJ1Awl.s:142    .text.lv_draw_sw_grad_color_calculate:00000000 $t
     /tmp/cckJ1Awl.s:148    .text.lv_draw_sw_grad_color_calculate:00000000 lv_draw_sw_grad_color_calculate
     /tmp/cckJ1Awl.s:438    .text.lv_draw_sw_grad_get:00000000 $t
     /tmp/cckJ1Awl.s:444    .text.lv_draw_sw_grad_get:00000000 lv_draw_sw_grad_get
     /tmp/cckJ1Awl.s:528    .text.lv_draw_sw_grad_cleanup:00000000 $t
     /tmp/cckJ1Awl.s:534    .text.lv_draw_sw_grad_cleanup:00000000 lv_draw_sw_grad_cleanup

UNDEFINED SYMBOLS
lv_malloc
lv_color_make
lv_free
